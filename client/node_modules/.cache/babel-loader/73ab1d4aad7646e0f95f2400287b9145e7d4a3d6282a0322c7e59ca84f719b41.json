{"ast":null,"code":"var _jsxFileName = \"/workspaces/chart-ni225/client/src/Chart.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { LineChart, Line, XAxis, YAxis, Tooltip, CartesianGrid, ResponsiveContainer } from \"recharts\";\nimport Papa from \"papaparse\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Chart = () => {\n  _s();\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    fetch(\"/nikkei_hist.csv\").then(res => res.text()).then(csv => {\n      Papa.parse(csv, {\n        header: false,\n        skipEmptyLines: true,\n        complete: results => {\n          // 1行目はヘッダーなのでスキップ\n          const rows = results.data;\n          const parsed = rows.filter(row => row.length >= 2 && row[0].match(/\\d{4}\\/\\d{2}\\/\\d{2}/)).map(row => ({\n            date: row[0],\n            close: parseFloat(row[1].replace(/\\\"/g, \"\"))\n          })).slice(-365); // 過去1年分\n          setData(parsed);\n        },\n        encoding: \"Shift_JIS\"\n      });\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: \"100%\",\n      height: 400\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u65E5\\u7D4C\\u5E73\\u5747\\u682A\\u4FA1\\uFF08\\u904E\\u53BB1\\u5E74\\u5206\\uFF09\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n      width: \"100%\",\n      height: \"100%\",\n      children: data.length > 0 ? /*#__PURE__*/_jsxDEV(LineChart, {\n        data: data,\n        margin: {\n          top: 20,\n          right: 30,\n          left: 0,\n          bottom: 0\n        },\n        children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n          strokeDasharray: \"3 3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n          dataKey: \"date\",\n          minTickGap: 40\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n          domain: [\"auto\", \"auto\"]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Line, {\n          type: \"monotone\",\n          dataKey: \"close\",\n          stroke: \"#8884d8\",\n          dot: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"center\",\n          paddingTop: 150\n        },\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n_s(Chart, \"IEMTtLVFIuToo7X/raQbJAxzNQU=\");\n_c = Chart;\nexport default Chart;\nvar _c;\n$RefreshReg$(_c, \"Chart\");","map":{"version":3,"names":["React","useEffect","useState","LineChart","Line","XAxis","YAxis","Tooltip","CartesianGrid","ResponsiveContainer","Papa","jsxDEV","_jsxDEV","Chart","_s","data","setData","fetch","then","res","text","csv","parse","header","skipEmptyLines","complete","results","rows","parsed","filter","row","length","match","map","date","close","parseFloat","replace","slice","encoding","style","width","height","children","fileName","_jsxFileName","lineNumber","columnNumber","margin","top","right","left","bottom","strokeDasharray","dataKey","minTickGap","domain","type","stroke","dot","textAlign","paddingTop","_c","$RefreshReg$"],"sources":["/workspaces/chart-ni225/client/src/Chart.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { LineChart, Line, XAxis, YAxis, Tooltip, CartesianGrid, ResponsiveContainer } from \"recharts\";\nimport Papa from \"papaparse\";\n\ninterface DataPoint {\n  date: string;\n  close: number;\n}\n\nconst Chart: React.FC = () => {\n  const [data, setData] = useState<DataPoint[]>([]);\n\n  useEffect(() => {\n    fetch(\"/nikkei_hist.csv\")\n      .then((res) => res.text())\n      .then((csv) => {\n        Papa.parse(csv, {\n          header: false,\n          skipEmptyLines: true,\n          complete: (results) => {\n            // 1行目はヘッダーなのでスキップ\n            const rows = results.data as string[][];\n            const parsed = rows\n              .filter((row) => row.length >= 2 && row[0].match(/\\d{4}\\/\\d{2}\\/\\d{2}/))\n              .map((row) => ({\n                date: row[0],\n                close: parseFloat(row[1].replace(/\\\"/g, \"\")),\n              }))\n              .slice(-365); // 過去1年分\n            setData(parsed);\n          },\n          encoding: \"Shift_JIS\",\n        });\n      });\n  }, []);\n\n  return (\n    <div style={{ width: \"100%\", height: 400 }}>\n      <h2>日経平均株価（過去1年分）</h2>\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\n        {data.length > 0 ? (\n          <LineChart data={data} margin={{ top: 20, right: 30, left: 0, bottom: 0 }}>\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis dataKey=\"date\" minTickGap={40} />\n            <YAxis domain={[\"auto\", \"auto\"]} />\n            <Tooltip />\n            <Line type=\"monotone\" dataKey=\"close\" stroke=\"#8884d8\" dot={false} />\n          </LineChart>\n        ) : (\n          <div style={{ textAlign: \"center\", paddingTop: 150 }}>Loading...</div>\n        )}\n      </ResponsiveContainer>\n    </div>\n  );\n};\n\nexport default Chart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}